<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DDharmonize_validate_BirthCounts • rddharmony</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="DDharmonize_validate_BirthCounts">
<meta property="og:description" content="This function implements a workflow for birth records extracted from vital registration databases and census. This workflow includes extracting data from DemoData, harmonizing age groups, identifying full series, validating totals by age, and eventually producing clean and harmonised datasets for each location. 
">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-reverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rddharmony</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Harmonization_Workflow.html">Harmonization Workflow</a>
    </li>
    <li>
      <a href="../articles/DDharmonize_validate_BirthCounts.html">DDharmonize_validate_BirthCounts()</a>
    </li>
    <li>
      <a href="../articles/DDharmonize_validate_DeathCounts.html">DDharmonize_validate_DeathCounts()</a>
    </li>
    <li>
      <a href="../articles/DDharmonize_validate_PopCounts.html">DDharmonize_validate_PopCounts()</a>
    </li>
    <li>
      <a href="../articles/dd_oag_compute.html">Computing data values for the open age group needed to close a series</a>
    </li>
    <li>
      <a href="../articles/DDharmonize_5YearCounts.html">Harmonizing five-year counts</a>
    </li>
    <li>
      <a href="../articles/DDharmonize_1YearCounts.html">Harmonizing one-year counts</a>
    </li>
    <li>
      <a href="../articles/DDharmonize_AbridgedAndComplete.html">Reconciling abridged and complete series</a>
    </li>
    <li>
      <a href="../articles/dd_validate_totals_over_age.html">Validating totals over age</a>
    </li>
    <li>
      <a href="../articles/dd_validate_totals_over_sex.html">Validating totals over sex</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Shelmith-Kariuki/rddharmony/" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="DDharmonize_validate_BirthCounts_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>DDharmonize_validate_BirthCounts</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Shelmith-Kariuki/rddharmony/blob/HEAD/vignettes/DDharmonize_validate_BirthCounts.Rmd" class="external-link"><code>vignettes/DDharmonize_validate_BirthCounts.Rmd</code></a></small>
      <div class="hidden name"><code>DDharmonize_validate_BirthCounts.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">
<svg viewbox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"><path d="M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"></path></svg> Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code><a href="../reference/DDharmonize_validate_BirthCounts.html">DDharmonize_validate_BirthCounts()</a></code> is a function that implements a workflow for birth records extracted from vital registration databases and census. This workflow includes extracting data from the UNPD (United Nations Population Division) database, harmonizing age groups, identifying full series, validating totals by age, and eventually producing clean and harmonised datasets for each location. See the <a href="https://shelmith-kariuki.github.io/rddharmony/articles/Harmonization_Workflow.html" class="external-link">harmonization workflow</a> article for a detailed overview of this process.</p>
<p>The birth records are grouped into two types of data:</p>
<ul>
<li><p>Births by age of mother and sex of child</p></li>
<li><p>Total births by sex of child</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="function-definition">
<svg viewbox="0 0 496 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg> Function definition<a class="anchor" aria-label="anchor" href="#function-definition"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># clean_df &lt;- DDharmonize_validate_BirthCounts(locid, </span>
<span class="co">#                                              times, </span>
<span class="co">#                                              process = c("census", "vr"),</span>
<span class="co">#                                              return_unique_ref_period = TRUE,</span>
<span class="co">#                                              retainKeys = FALSE)</span>

                                             
<span class="co"># example: extracting sweden's data                                            </span>
<span class="co"># clean_df &lt;- DDharmonize_validate_BirthCounts(locid = 752,</span>
<span class="co">#                                              times = c(2010, 2011),</span>
<span class="co">#                                              process = c("census", "vr"),</span>
<span class="co">#                                              return_unique_ref_period = TRUE,</span>
<span class="co">#                                              retainKeys = FALSE)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="function-arguments">
<svg viewbox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"><path d="M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"></path></svg> Function arguments<a class="anchor" aria-label="anchor" href="#function-arguments"></a>
</h2>
<p>The function contains several arguments:</p>
<p><strong><code>locid</code>:</strong> This is the a numeric variable representing the location id of each of the locations. You can run <code>View(get_locations())</code> to get the list of plausible location ids. The ids are listed in the <code>PK_LocID</code> variable. You can also run the function <code>check_locid(insert locid here)</code> to check whether a location id is valid (part of the locations in the UNPD website). Running <code>check_locid(insert locid here)</code> with a valid id returns a message confirming that the location id is valid and also gives the location name of that particular id. Running the same code with an invalid id returns a message directing the user to run <code>View(get_locations())</code> in order to get a list of plausible location ids. See example below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## valid id</span>
<span class="co">## check_locid(752)</span>

<span class="co">## invalid id</span>
<span class="co">## check_locid(2021)</span></code></pre></div>
<p><strong><code>times</code>:</strong> The period of the data to be extracted. You can extract one year data e.g <code>times = 2020</code> or a longer period of time e.g <code>times = c(1950, 2020)</code>.</p>
<p><strong><code>process</code>:</strong> The process used to collect or to obtain the data i.e either via census or vital registrations (vr). By default, the function pulls data obtained through both of these processes.</p>
<p><strong><code>return_unique_ref_period</code>:</strong> Specifies whether the data to be returned should contain one unique id (<code>return_unique_ref_period == TRUE</code>) or several ids (<code>return_unique_ref_period == FALSE</code>) per time label. ids are a unique identifier for each unique set of records based on <code>LocID</code>, <code>LocName</code>, <code>DataProcess</code>, <code>ReferencePeriod</code>, <code>DataSourceName</code>, <code>StatisticalConceptName</code>, <code>DataTypeName</code> and <code>DataReliabilityName</code>. The definitions of these variables are provided later in this article.</p>
<p><strong><code>retainKeys</code>:</strong> Specifies whether only a few (<code>retainKeys == FALSE</code>) or all (<code>retainKeys == TRUE</code>) variables should be retained in the output.</p>
</div>
<div class="section level2">
<h2 id="output-structure">
<svg viewbox="0 0 448 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"><path d="M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"></path></svg> Output structure<a class="anchor" aria-label="anchor" href="#output-structure"></a>
</h2>
<p>The function returns clean data with 26 variables (when <code>retainKeys == TRUE</code>) which are defined below:</p>
<ul>
<li><p><code>id</code>: A unique id that is generated by combining the <code>LocID</code>, <code>LocName</code>, <code>DataProcess</code>, type of data (births), <code>TimeLabel</code>, <code>DataProcessType</code>, <code>DataSourceName</code>, <code>StatisticalConceptName</code>, <code>DataTypeName</code> and <code>DataReliabilityName</code>.</p></li>
<li><p><code>LocID</code>: Location Id. This is a numerical Location Code (3-digit codes following ISO 3166-1 numeric standard - UNSD M49 codes) - see <a href="http://en.wikipedia.org/wiki/ISO_3166-1_numeric" class="external-link uri">http://en.wikipedia.org/wiki/ISO_3166-1_numeric</a> .</p></li>
<li><p><code>LocName</code>: Name of a country or territory identified by each Location Id e.g when <code>LocID</code> == 404 , <code>LocName</code> == Kenya.</p></li>
<li><p><code>IndicatorName</code>: Identifies the type of data i.e. <code>Births by age of mother and sex of child</code> or <code>Total births by sex of child</code>.</p></li>
<li><p><code>IndicatorID</code>: An id representing each indicator. <code>IndicatorID</code> = 170 where <code>IndicatorName</code> == <code>Births by age of mother and sex of child</code> and <code>IndicatorID</code> = 159 where <code>IndicatorName</code> == <code>Total births by sex of child</code>.</p></li>
<li><p><code>TimeStart</code>: Start year defining the period of interest (e.g 01/01/2000).</p></li>
<li><p><code>TimeLabel</code>: The year of interest (e.g 2000).</p></li>
<li><p><code>TimeEnd</code>: End year defining the period of interest (e.g 31/12/2000).</p></li>
<li><p><code>TimeMid</code>: Mid-period based on <code>TimeStart</code> and <code>TimeEnd</code> (e.g 2000.500).</p></li>
<li><p><code>DataProcessType</code>: Defines the process used to collect or to obtain the data.</p></li>
<li><p><code>DataSourceName</code>: This defines the source of data (e.g. Demographic Year Book, World Health Organization records, etc).</p></li>
<li><p><code>StatisticalConceptName</code>: Defines the concept under which individuals (or vital events) are recorded (e.g De-facto, Year of occurrence).</p></li>
<li><p><code>DataTypeName</code>: Indicates the type of collected data or estimation process used to derive the data.</p></li>
<li><p><code>DataReliabilityName</code>: Denotes the reliability of the data values (default is unknown): Error, typo or invalid value, Very low quality, Low , Fair, High quality, etc. This is a default rating either obtained from the Data Source or assigned by default to the data during initial loading.</p></li>
<li><p><code>AgeLabel</code>: Age bracket (where data is abridged) or single year of age (where the data is complete).</p></li>
<li><p><code>AgeStart</code>: The start age of a particular age label e.g where the age label is 10-14, the start age is 10.</p></li>
<li><p><code>AgeEnd</code>: The end age of a particular age label + 1 e.g where the age label is 10-14, the end age is 15.</p></li>
<li><p><code>AgeSpan</code>: The difference between <code>AgeStart</code> and <code>AgeEnd</code>.</p></li>
<li><p><code>AgeSort</code>: Defines the order of a particular age label when the age labels are arranged in ascending order.</p></li>
<li><p><code>abridged</code>: Identifies age labels that have an age span of 5 years, including open age groups and the total, but excluding the label <code>0-4</code>.</p></li>
<li><p><code>five_year</code>: Identifies age labels that are abridged including <code>0-4</code>.</p></li>
<li><p><code>complete</code>: Identifies single year of age labels, including open age groups and the total.</p></li>
<li><p><code>non_standard</code>: These are age labels that are not standard e.g those with an age span of anything other than 1, 5 and they are neither total nor unknown.</p></li>
<li><p><code>SexID</code>: ID for each of the sex groups (1: Males, 2: Females, 3: Both sexes).</p></li>
<li><p><code>DataValue</code>: The numerical value of interest for a specific set of unique characteristics as defined by <code>id</code>.</p></li>
<li><p><code>note</code>: Gives the user more information about a particular record in cases where the data is not fully clean e.g the record may not have been harmonised because of non-standard age groups or that the series is missing data for one or more age groups.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="harmonization-workflow">
<svg viewbox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"><path d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"></path></svg> Harmonization Workflow<a class="anchor" aria-label="anchor" href="#harmonization-workflow"></a>
</h2>
<p>For a detailed explanation of the harmonization work flow, <a href="https://shelmith-kariuki.github.io/rddharmony/articles/Harmonization_Workflow.html" class="external-link">see this article</a> .</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Shelmith Kariuki.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
